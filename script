local ReplicatedStorage = game:GetService("ReplicatedStorage")
local parentFolder = ReplicatedStorage.AllPlayerData.watermellongg1

if parentFolder then
    local folderToRename = parentFolder:FindFirstChild("Char Data")
    local newFolderName = "CharData"

    if folderToRename then
        folderToRename.Name = newFolderName
        print("Renamed folder:", folderToRename:GetFullName())
    else
        print("Folder not found:", parentFolder:GetFullName() .. ".Char Data")
    end
else
    print("Parent folder not found:", "AllPlayerData.watermellongg1")
end

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()

local main = Library.CreateLib("Heroes Awakening Script", "Ocean")

local toggleFarmLoop = false
local toggleKillAuraLoop = false
local toggleQuirkRolling = false

local tab = main:NewTab("Main")

local QuirkSection = tab:NewSection("Quirk Rolling")

local quirkList = {
    "HCHH", "OFA", "Explosion", "Cremation", "Overhaul", "AFO",
    "Cement", "Zero Gravity", "Decay", "Erasure",
    "Ice", "Air Propulsion", "Electrification",
    "Invisibility", "Gigantification", "Hardening", "Naval Laser", "Super Strength", "Healing"
}

local desiredPowers = {}

local function QuirkDropdownCallback(index, value)
    desiredPowers[index] = value
    print("Selected Quirk for Dropdown " .. index .. ":", value)
end

for i = 1, 5 do
    QuirkSection:NewDropdown("Quirk " .. i, "Select a quirk", quirkList, function(value)
        QuirkDropdownCallback(i, value)
    end)
end

local quirkSpinToggle = QuirkSection:NewButton("Quirk spin toggle", "Toggle quirk spinning", function()
    toggleQuirkRolling = not toggleQuirkRolling

    if toggleQuirkRolling then
        print("Quirk spinning started.")
    else
        print("Quirk spinning stopped.")
    end
    
    while toggleQuirkRolling do
        local args = {
            [1] = "spin",
            [2] = false
        }
        
        game:GetService("ReplicatedStorage"):WaitForChild("SpinQuirk"):FireServer(unpack(args))
        wait(0.5) -- Adjust the delay as needed
        
        local quirk = game:GetService("ReplicatedStorage").AllPlayerData.watermellongg1.CharData.Quirk.Value
        
        for i, power in ipairs(desiredPowers) do
            if quirk == power then
                print("Obtained desired power:", quirk)
                toggleQuirkRolling = false
                break
            end
        end
    end
    
    print("Quirk spinning stopped.")
end)

local miscTab = main:NewTab("Misc")
local miscSection = miscTab:NewSection("Miscellaneous")

miscSection:NewButton("iy Script", "Executes the Infinite Yield script", function()
    local loadstringFunction = loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
    
    if loadstringFunction then
        loadstringFunction()
        print("Infinite Yield script executed.")
    else
        print("Failed to execute Infinite Yield script.")
    end
end)

miscSection:NewButton("Cmd X", "Executes the Cmd X script", function()
    local loadstringFunction = loadstring(game:HttpGet("https://raw.githubusercontent.com/CMD-X/CMD-X/master/Source", true))()
    
    if loadstringFunction then
        loadstringFunction()
        print("Cmd X script executed.")
    else
        print("Failed to execute Cmd X script.")
    end
end)

main:Init()
